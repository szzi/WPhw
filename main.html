<html>

<head>
    <title>이상형 월드컵 게임 과제</title>
    <style>
        @font-face {
            font-family: 'BMDOHYEON';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/BMDOHYEON.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        h1 {
            font-family: BMDOHYEON;
            font-size: 50px;
            text-align: center;
        }

        .title {
            margin: 50px 30px;
        }

        .container {
            font-family: BMDOHYEON;
            font-size: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;
        }

        .s {
            flex: 1;
            text-align: center;
            margin: 50px 30px;
            width: 465px;
            height: 349px;
            background-color: #FBEFFB;
        }

        .ss1 {
            text-align: center;
            background-color: #FBEFFB;
        }

        input[type="button"] { font-family:BMDOHYEON; font-size: 30px; border: solid 2px black; background-color:white; border-radius: 8px; width: 100px; height:50px;}
    </style>
</head>

<body>
    <span class="title">
        <h1>오늘 점심 뭐 먹지?</h1>
        <hr>
    </span>

    <!-- 선택 -->
    <form action="">
        <div id="r1">
            <h1>8강</h1>
        </div>
        <div id="r2" style="display:none;">
            <h1>4강</h1>
        </div>
        <div id="r3" style="display:none;">
            <h1>결승</h1>
        </div>
        <div id="r4" style="display:none;">
            <h1>최종 선택</h1>
        </div>
        <div class="container">

            <!-- 선택 -->
            <div id="1">
                <img class="s" id="img1" src="images/doobu.jpg" alt="순두부찌개"><br>
                <label for="ss1"><input id="ss1" name="food" type="radio" value="순두부찌개백반">순두부찌개 백반</label>
            </div>
            <div id="2">
                <img class="s" id="img2" src="images/bulgogi.jpg" alt="불고기백반"><br>
                &nbsp;&nbsp;<label for="ss2"><input id="ss2" name="food" type="radio" value="불고기백반">불고기 백반</label>
            </div>
            <div id="3" style="display:none;">
                <img class="s" id="img3" src="images/zazang.jpg" alt="짜장"><br>
                &nbsp;&nbsp;<label for="ss3"><input id="ss3" name="food" type="radio" value="짜장">짜장</label>
            </div>
            <div id="4" style="display:none;">
                <img class="s" id="img4" src="images/zzambbong.jpg" alt="짬뽕"><br>
                &nbsp;&nbsp;<label for="ss4"><input id="ss4" name="food" type="radio" value="짬뽕">짬뽕</label>
            </div>
            <div id="5" style="display:none;">
                <img class="s" id="img5" src="images/noodles.jpg" alt="냉모밀"><br>
                &nbsp;&nbsp;<label for="ss5"><input id="ss5" name="food" type="radio" value="냉모밀">냉모밀</label>
            </div>
            <div id="6" style="display:none;">
                <img class="s" id="img6" src="images/sushi.jpg" alt="초밥"><br>
                &nbsp;&nbsp;<label for="ss6"><input id="ss6" name="food" type="radio" value="초밥">초밥</label>
            </div>
            <div id="7" style="display:none;">
                <img class="s" id="img7" src="images/bokki.jpg" alt="떡볶이"><br>
                &nbsp;&nbsp;<label for="ss7"><input id="ss7" name="food" type="radio" value="떡볶이">떡볶이</label>
            </div>
            <div id="8" style="display:none;">
                <img class="s" id="img8" src="images/Burrito.jpg" alt="부리또"><br>
                &nbsp;&nbsp;<label for="ss8"><input id="ss8" name="food" type="radio" value="부리또">부리또</label>
            </div>

            <!-- button -->
            <div id="btn">
                <input type="button" value="Next" onclick="buttonchecked()">
            </div>

        </div>

    </form>
    <!-- 선택 끝 -->

    <!-- 유저 이름 받는 script -->
    <script>
        // document.write(window.location.href+"<br>");
        var temp = window.location.href;
        var str_ary = temp.split("?");
        var Username = str_ary[1].split("=");
    // document.write(Username[1]+"님의 방문을 환영합니다");
    // 현재 userID[1]이 username임
    </script>
    <!-- 유저 이름 끝 -->

    <!-- 버튼 체크 -->
    <script>
        var count = 4;
        var select;
        var selectarr = new Array(4);
        var selectarr2 = new Array(2);
        var winner = new Array(1);
        var k = 0, j = 0;
        var checkround2 = 2;
        function buttonchecked() {
            var found = null;

            select = document.getElementsByName("food");

            for (var i = 0; i < select.length; i++) {
                if (select[i].checked == true) {
                    found = select[i];
                    if (count > 0) {
                        selectarr[k++] = select[i];
                        count--;
                    }
                    else if ((count == 0) && (round1 == 1) && (round2 > -1) && (checkround2 > 0)) {

                        selectarr2[j++] = select[i];
                        checkround2--;
                    }
                    else if ((count == 0) && (round1 == 1) && (round2 == 0) && (checkround2 == 0)) {
                        winner[0] = select[i];
                    }
                }

            }

            if (found != null) {
                alert(found.value + "을(를) 선택하셨습니다");
                change();
            }
            else
                alert("선택된 것이 없습니다. 선택해주세요!");
        }
    </script>

    <script>
        // 8강 승자
        var round1 = 4;
        // 4강 승자
        var round2 = 2;
        // 2강 승자
        var round3 = 1;
        var target;

        function change() {
            if (round1 > 1) {
                target = ["1", "2", "3", "4", "5", "6", "7", "8"];
                show1();
            }
            else if ((round1 == 1) && (round2 != 0) && (round3 != 0)) {
                hide("r1");
                document.getElementById("r2").style.display = "block";
                target = [selectarr[0].id.substring(2, 3), selectarr[1].id.substring(2, 3), selectarr[2].id.substring(2, 3), selectarr[3].id.substring(2, 3)];
                show2();
            }
            else if ((round1 == 1) && (round2 == 0) && (round3 != 0)) {
                hide("r2");
                document.getElementById("r3").style.display = "block";
                target = [selectarr2[0].id.substring(2, 3), selectarr2[1].id.substring(2, 3)];
                show3();
            }
            else if ((round1 == 1) && (round2 == 0) && (round3 == 0)) {
                hide("r3");
                document.getElementById("r4").style.display = "block";
                target = [winner[0].id.substring(2, 3)];
                hide(bbbefore1);
                hide(bbbefore2);
                hide("btn");
                document.getElementById(target[0]).style.display = 'block';
                alert(Username[1]+"님의 "+"선택은"+winner[0].value+"였습니다");
            }

        }

        var count;
        var index = 2;
        var before1 = null;
        var before2 = null;
        function show1() {
            if ((before1 != null) && (before2 != null)) {
                hide(before1);
                hide(before2);
            }
            if ((before1 == null && before2 == null)) {
                hide(target[0]);
                hide(target[1]);
            }

            before1 = target[index];
            document.getElementById(target[index++]).style.display = 'block';
            before2 = target[index];
            document.getElementById(target[index++]).style.display = 'block';
            round1--;
        }

        var iindex = 0;
        var bbefore1 = null;
        var bbefore2 = null;
        function show2() {
            if ((bbefore1 == null && bbefore2 == null)) {
                hide(before1);
                hide(before2);
            }

            if ((bbefore1 != null) && (bbefore2 != null)) {
                hide(bbefore1);
                hide(bbefore2);
            }
            bbefore1 = target[iindex];
            document.getElementById(target[iindex++]).style.display = 'block';
            bbefore2 = target[iindex];
            document.getElementById(target[iindex++]).style.display = 'block';
            round2--;

        }

        var iiindex = 0;
        var bbbefore1 = null;
        var bbbefore2 = null;
        function show3() {
            if ((bbbefore1 == null && bbbefore2 == null)) {
                hide(bbefore1);
                hide(bbefore2);
            }

            if ((bbbefore1 != null) && (bbbefore2 != null)) {
                hide(bbbefore1);
                hide(bbbefore2);
            }

            bbbefore1 = target[iiindex];
            document.getElementById(target[iiindex++]).style.display = 'block';
            bbbefore2 = target[iiindex];
            document.getElementById(target[iiindex++]).style.display = 'block';
            round3--;
        }


        function hide(target) {
            document.getElementById(target).style.display = 'none';
        }
    </script>
    <!-- show 끝 -->
</body>

</html>